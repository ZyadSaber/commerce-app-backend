"use strict";(self.webpackChunkcommerce_app=self.webpackChunkcommerce_app||[]).push([[478],{3510:(e,n,t)=>{t.d(n,{Z:()=>p});var o,a=t(2791),l=t(9718),r=t(168),i=t(456),d=t(6769),c=t(5079);const s=(0,i.Z)(d.Z)(o||(o=(0,r.Z)(["\n  padding: 4px 7px;\n  width: ",";\n  height: ",";\n  margin: ",";\n  ","\n"])),(e=>{let{width:n}=e;return n}),(e=>{let{height:n}=e;return n}),(e=>{let{margin:n}=e;return n}),(e=>{let{required:n}=e;return n&&"background-color: ".concat(c.primaryColors.danger,";")}));var u=t(184);const h=e=>{let{label:n="",checked:t,onChange:o,name:r,width:i,height:d,disabled:c,required:h,margin:p}=e;const m=(0,a.useCallback)((e=>{o({name:r,value:e.target.checked})}),[r,o]),b=(0,l.cB)();return(0,u.jsx)(s,{onChange:m,checked:t,width:i,height:d,disabled:c,margin:p,required:h,children:b(n)})},p=(0,a.memo)(h)},1222:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(7156);const a=function(e,n,t){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l="";switch(e){case"success":l="Done Successfully";break;case"error":l="False Save"}o.Z[e]({message:n||l,description:t||"",duration:!0===a?0:~~(a||2.5)})}},5516:(e,n,t)=>{t.d(n,{ZP:()=>Ce,R$:()=>ge,FS:()=>be});var o=t(2791),a=t(5104),l=t(4908),r=t(184);const i=e=>{let{visible:n,onClose:t,onConfirm:a,message:i}=e;const d=(0,o.useCallback)((()=>{a(),t()}),[t,a]);return(0,r.jsx)(l.Z,{label:"cnfrmtn",visible:n,onClose:t,width:"25%",onOK:d,submitTitle:"cnfrm",children:i||"Are you want to continue ?"})},d=(0,o.memo)(i);var c=t(7689),s=t(969);const u=e=>{let{opacity:n,visible:t,backColor:o}=e;return(0,r.jsx)(s.a,{opacity:n,visible:t,backColor:o,children:(0,r.jsx)(s.g,{})})},h=(0,o.memo)(u);var p,m,b,g=t(5424),x=t(1626),C=t(1222),v=t(168),f=t(6114);const w=f.ZP.div(p||(p=(0,v.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]))),k=f.ZP.button(m||(m=(0,v.Z)(["\n  margin: 0 5px;\n  padding: 8px 12px;\n  cursor: pointer;\n  background-color: ",";\n  color: ",";\n  border: 1px solid #3498db;\n  border-radius: 4px;\n"])),(e=>{let{active:n}=e;return n?"#3498db":"#fff"}),(e=>{let{active:n}=e;return n?"#fff":"#3498db"})),j=f.ZP.div(b||(b=(0,v.Z)(['\n  margin: 0 5px;\n  padding: 8px 12px;\n  background-color: #fff;\n  color: "#3498db";\n  border: 2px solid #3498db;\n  border-radius: 4px;\n  /* width: 40px; */\n  justify-content: center;\n  text-align: center;\n']))),y=e=>{let{currentPage:n,onPageChange:t,totalRecord:o,step:a}=e;const l=Math.ceil(o/a),i=Array.from({length:l},((e,n)=>n+1));return(0,r.jsxs)(w,{children:[1!==i.length&&i.map((e=>(0,r.jsx)(k,{active:e===n,onClick:()=>t(e),disabled:e===n,children:e},e))),(0,r.jsx)(j,{children:"total Records is ".concat(o)})]})},D=(0,o.memo)(y),Z=e=>Array.isArray(e)&&0!==e.length;var P=t(3708),S=t(2010);const R=e=>{let{hideTools:n=!1,canAdd:t,canEdit:o,canDelete:a,canSave:l,canPrint:i,canExcel:d,onAdd:c,onEdit:s,onDelete:u,onSave:h,onPrint:p,onExcel:m,addDisabled:b,editDisabled:g,deleteDisabled:C,saveDisabled:v,printDisabled:f,excelDisabled:w,additionalButtons:k,withInfo:j,onInfo:y,infoDisabled:D}=e;return(0,r.jsxs)(x.Z,{width:"100%",padding:"0",margin:"5px 0",borderColor:"red",justifyContent:"center",hidden:n,gap:"10px",children:[k&&Array.isArray(k)&&k.map((e=>e.icon?(0,r.jsx)(S.Z,{iconName:e.icon,onClick:e.onClick,width:e.width,backGround:"transparent"}):(0,r.jsx)(P.Z,{label:e.label,onClick:e.onClick,width:e.width}))),(0,r.jsx)(S.Z,{iconName:"edit",onClick:s,hidden:!o,disabled:g}),(0,r.jsx)(S.Z,{iconName:"delete",onClick:u,hidden:!a,disabled:C}),(0,r.jsx)(S.Z,{iconName:"plus",onClick:c,hidden:!t,disabled:b}),(0,r.jsx)(S.Z,{iconName:"save",onClick:h,hidden:!l,disabled:v}),(0,r.jsx)(S.Z,{iconName:"print",onClick:p,hidden:!i,disabled:f}),(0,r.jsx)(S.Z,{iconName:"excel",onClick:m,hidden:!d,disabled:w}),(0,r.jsx)(S.Z,{iconName:"info",onClick:y,disabled:D,hidden:!j})]})},_=(0,o.memo)(R),F=(e,n)=>{if(!n)return n;const t=n.toString().replace(/\s/g,"");if(!isNaN(+t))return+t;const[o]=t.split("%");return+(+o/100*e).toFixed(2)},A=e=>{var n;let{containerWidthNumber:t,columnsFromProps:o,hasSelectionColumn:a,showExpandColumn:l,isMobileBreakPoint:r}=e;const i=null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0;if(!i)return{doesAnyColumnHasInputType:false,adjustedColumns:[]};const d=a?i/30:0,c=l?i/30:0;return{adjustedColumns:o.map((e=>{let{width:n,title:o,...a}=e,l=F(t,n);return l=l?l-d-c:l,{...a,title:o,width:l}}))}};var E,I,N,T,B,H,z,K,W,O=t(5079);const q=e=>isNaN(+e)?e:"".concat(e,"px"),L=f.ZP.div(E||(E=(0,v.Z)(["\n  position: relative;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  width: ",";\n  ",";\n  ",";\n  ",";\n"])),(e=>{let{width:n}=e;return n}),(e=>{let{margin:n}=e;return n&&"margin: ".concat(n)}),(e=>{let{padding:n}=e;return n&&"padding: ".concat(n)}),(e=>{let{order:n}=e;return n&&"order: ".concat(n)})),M=f.ZP.div(I||(I=(0,v.Z)(["\n  width: 100%;\n  max-height: ",";\n  overflow-y: ",";\n  position: relative;\n  height: ",";\n  overflow-x: auto;\n"])),(e=>{let{height:n}=e;return n}),(e=>{let{overflowY:n}=e;return n}),(e=>{let{fixedHeight:n}=e;return n})),Y=f.ZP.thead(N||(N=(0,v.Z)(["\n  background-color: ",";\n  color: ",";\n"])),O.primaryColors.primary,O.primaryColors.white),U=f.ZP.table(T||(T=(0,v.Z)(["\n  border-collapse: separate;\n  table-layout: auto;\n  border-spacing: 0;\n  max-width: 100%;\n  ","\n"])),(e=>{let{fixedHeight:n}=e;return n&&"height: ".concat(n)})),G=f.ZP.td(B||(B=(0,v.Z)(["\n  position: relative;\n  padding: 0;\n  margin: 0;\n  border: 0.1px solid ",";\n  color: currentColor;\n  font-size: ",";\n  ",";\n  ",";\n\n  ",";\n\n  ",";\n  transition: all 0.3s ease;\n"])),O.primaryColors.inputBorderColor,(e=>{let{fontSize:n}=e;return n}),(e=>{let{isHeadCell:n}=e;return n&&"\n    background-color: ".concat(O.primaryColors.primary,";\n    position: sticky;\n    top: 0;\n    font-weight: bold;\n    z-index: 1;\n  ")}),(e=>{let{width:n}=e;return n&&"\n    width: ".concat(q(n),";\n  ")}),(e=>{let{noBorder:n}=e;return!n&&"\n  "}),(e=>{let{disabled:n}=e;return n&&"\n    cursor: not-allowed;\n  "})),V=(0,f.iv)(H||(H=(0,v.Z)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]))),X=(0,f.ZP)(g.V3)(z||(z=(0,v.Z)(["\n  display: flex;\n  ","\n  position: relative;\n  ",";\n  width: ",";\n  ","\n  text-align: ",";\n  font-size: inherit;\n  color: inherit;\n  justify-content: ",";\n  padding: ",";\n  ",";\n  ",";\n  ",";\n  word-break: unset;\n  word-wrap: anywhere;\n  transition: all 0.3s ease-in-out;\n"])),(e=>{let{justify:n,align:t}=e;return"\n    justify-content: ".concat(n||"cen ter",";\n    align-items: ").concat(t||"center",";\n  ")}),(e=>{let{display:n}=e;return n&&"display: ".concat(n)}),(e=>{let{width:n}=e;return n?q(n):"unset"}),(e=>{let{ellipsis:n}=e;return"true"===n&&V}),(e=>{let{align:n}=e;return n||"center"}),(e=>{let{align:n}=e;return n||"center"}),(e=>{let{padding:n}=e;return n||"3px"}),(e=>{let{minHeight:n}=e;return n&&"min-height: ".concat(n)}),(e=>{let{useInlineEndBorder:n}=e;return n&&"\n    &:not(:last-child) {\n      border-inline-end: 1px solid red;\n    }\n  "}),(e=>{let{color:n,backgroundColor:t}=e;return(0,f.iv)(K||(K=(0,v.Z)(["\n      background-color: ",";\n      color: ",";\n    "])),t||"unset",n||"unset")}));X.defaultProps={tag:"div"};const $=f.ZP.tr(W||(W=(0,v.Z)(["\n  ",";\n  transition: all 0.3s ease-in-out;\n"])),(e=>{let{selected:n,selectedRowBackgroundColor:t}=e;return"background-color: ".concat(n?O.primaryColors[t]:O.primaryColors.white2)})),J=e=>{let{align:n,width:t,ellipsis:o,title:a}=e;return(0,r.jsx)(X,{display:"block",align:n,width:t,title:o?a:"",ellipsis:o?"true":void 0,children:a})},Q=(0,o.memo)(J),ee=e=>{let{columns:n,actionColumn:t,actionLabel:o,actionWidth:a}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Y,{children:(0,r.jsxs)("tr",{children:[null===n||void 0===n?void 0:n.map((e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G,{isHeadCell:!0,children:(0,r.jsx)(Q,{...e})})}))),t&&(0,r.jsx)(G,{isHeadCell:!0,children:(0,r.jsx)(Q,{title:o,width:a})})]})})})},ne=(0,o.memo)(ee),te=e=>{let{currentRecord:n,rowCellClassName:t,cellProps:{dataIndex:o,width:a,ellipsis:l,align:i,valueFixedBy:d,titleDataIndex:c}}=e;let s=n[o];"boolean"===typeof s&&(s=!0===s?"\u2713":"X");const u=c?n[c]:"",{record_foreground_color:h,record_background_color:p}=n||{};return(0,r.jsx)(X,{align:i,width:a,ellipsis:l?"true":void 0,disableTranslation:!0,title:u,color:h,backgroundColor:p,className:null===t||void 0===t?void 0:t(n,o),children:s})},oe=(0,o.memo)(te),ae=e=>{let{columns:n,actionColumn:t,dataSource:a,rowKey:l,handleSelectedRow:i,onDoubleClick:d,selectedRowBackgroundColor:c,clickedRowKey:s,isRowChecked:u,indexOfFirstItem:h,fontSize:p}=e;return(0,r.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,a)=>{const m=(h||0)+a,b=e[l];return(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)($,{selectedRowBackgroundColor:c,onClick:i(b,e,a),onDoubleClick:d(b,e,a),selected:u||s===b,children:[n.map((n=>{const{titleDataIndex:t}=n,o={currentRecordIndex:m,currentRecord:e,fontSize:p,titleDataIndex:t};return(0,r.jsx)(G,{children:(0,r.jsx)(oe,{...o,cellProps:n})})})),t&&(0,r.jsx)(G,{children:(0,r.jsx)(x.Z,{width:"100%",children:t.map((n=>n.icon?(0,r.jsx)(S.Z,{...n,onClick:()=>{n.onClick(e,a)}}):(0,r.jsx)(P.Z,{...n,onClick:()=>{n.onClick(e,a)}})))})})]})},b)}))})},le=(0,o.memo)(ae),re=(e,n)=>{let t=0;return e.forEach((e=>{t=+t+ +e[n]})),t.toFixed(1)},ie=e=>{let{align:n,width:t,ellipsis:o,dataIndex:a,calculateAmount:l,dataSource:i}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(X,{display:"block",align:n,width:t,ellipsis:o?"true":void 0,disableTranslation:!0,children:l&&re(i,a)})})},de=(0,o.memo)(ie),ce=e=>{let{columns:n,actionColumn:t,actionLabel:o,actionWidth:a,dataSource:l}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{children:[null===n||void 0===n?void 0:n.map((e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G,{children:(0,r.jsx)(de,{...e,dataSource:l})})}))),t&&(0,r.jsx)(G,{isHeadCell:!0})]})})},se=(0,o.memo)(ce);var ue=t(4045);const he=e=>{let{fileName:n,dataSource:t,columns:o}=e;const{pathname:a}=(0,c.TH)();return()=>{const e=a.replace("/",""),o=ue.P6.book_new(),l=ue.P6.json_to_sheet(t);ue.P6.book_append_sheet(o,l,e),ue.NC(o,n)}},pe=e=>{var n;let{dataSource:t,height:l,fixedHeight:i,rowKey:d="rowKey",columns:s,hideTools:u=!0,canEdit:p=!1,canAdd:m=!1,canDelete:b=!1,canExcel:v=!1,onAdd:f,onEdit:w,onDelete:k,actionColumn:j,actionLabel:y="",actionWidth:P,onSelectedRow:S,canPrint:R=!1,onPrint:F,additionalButtons:E,onSave:I,canSave:N=!1,withInfo:T=!0,onInfo:B,width:H="100%",margin:z,padding:K,loading:W=!1,onDoubleClick:O,selectedRowBackgroundColor:q="lightBlue",addDisabled:Y,editDisabled:G,deleteDisabled:V,saveDisabled:X,printDisabled:$,excelDisabled:J,overflowY:Q,noPagination:ee=!1,useFloatingLabelsTotalCells:te,pagination:oe=0,step:ae=0,onChangeCurrentPage:re}=e;const{pathname:ie}=(0,c.TH)(),[de,ce]=(0,o.useState)(),[ue,pe]=(0,o.useState)({}),me=Z(t),[be,ge]=(0,o.useState)(1),xe=ae?null===t||void 0===t?void 0:t.slice((be-1)*ae,be*ae):t,Ce=Z(xe)?xe:t;(0,o.useLayoutEffect)((()=>{W&&ce(void 0)}),[W]);const ve=(0,o.useCallback)(((e,n,t)=>()=>{ce(e),null===S||void 0===S||S(n,t),pe(n)}),[S]),fe=(0,o.useCallback)(((e,n,t)=>()=>{ce(e),null===O||void 0===O||O(n,t)}),[O]),we=ie.replace("/",""),ke=he({fileName:"".concat(we," ").concat((new Date).toUTCString(),".xlsx"),dataSource:t,columns:s}),je=s.length,[ye,De]=(0,a.ZY)([je,W]),Ze=null!==(n=null===De||void 0===De?void 0:De.width)&&void 0!==n?n:200,{adjustedColumns:Pe}=(0,o.useMemo)((()=>A({containerWidthNumber:Ze,columnsFromProps:s})),[Ze,s]),Se=(0,o.useCallback)((()=>{const{created_at:e,updated_at:n}=ue;e&&(0,C.Z)("info","Create At ".concat(e," Updated At ").concat(n),"",5)}),[ue]),Re=(0,o.useCallback)((e=>{ge(e),re&&re(e)}),[re]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(L,{width:H,padding:K,margin:z,ref:ye,children:[(0,r.jsx)(_,{hideTools:u,canAdd:m,canEdit:p,canDelete:b,canSave:N,canPrint:R,canExcel:v,onAdd:f,onEdit:w,onDelete:k,onSave:I,onPrint:F,onExcel:ke,addDisabled:Y,editDisabled:G||!de,deleteDisabled:V||!de,saveDisabled:X,printDisabled:$,excelDisabled:J,additionalButtons:E,withInfo:T,infoDisabled:!de,onInfo:B||Se}),(0,r.jsxs)(M,{height:l,overflowY:Q,fixedHeight:i,children:[(0,r.jsxs)(U,{cellSpacing:0,children:[(0,r.jsx)(ne,{columns:Pe,actionColumn:j,actionLabel:y,actionWidth:P}),(0,r.jsx)(le,{columns:Pe,actionColumn:j,dataSource:Ce,rowKey:d,handleSelectedRow:ve,onDoubleClick:fe,selectedRowBackgroundColor:q,clickedRowKey:de})]}),me&&te&&(0,r.jsx)("tfoot",{children:(0,r.jsx)(se,{dataSource:t,columns:Pe})})]}),me&&!ee&&(0,r.jsx)(D,{currentPage:be,totalRecord:oe,onPageChange:Re,step:ae}),!me&&!i&&(0,r.jsx)(x.Z,{width:"100%",justifyContent:"center",children:(0,r.jsx)(g.xv,{title:"ntd",color:"red",fontWeight:"bold"})}),W&&(0,r.jsx)(h,{visible:W})]})})};var me=t(277);const be=e=>{let{apiId:n,runFetch:t}=e;const[l,r]=(0,o.useState)({}),{visible:i,handleClose:d,handleOpen:c}=(0,a.hn)(),{mutate:s,loading:u}=(0,a.Db)({apiId:n,method:"POST"}),h=(0,o.useCallback)((()=>{c(),r({query_status:"n"})}),[c]),p=(0,o.useCallback)((()=>{c(),r({...l,query_status:"u"})}),[c,l]),m=(0,o.useCallback)((()=>{s({data:{...l,query_status:"d"},cb:e=>{let{error:n}=e;n&&(0,C.Z)("error",n.message),n||t&&t()}})}),[s,t,l]);return{selectedRecord:l,setSelectedRecord:r,visible:i,handleClose:d,handleAdd:h,handleEdit:p,handleDelete:m,handleSaveRecord:s,loading:u}},ge=()=>{const e=(0,o.useRef)(),n=(0,o.useCallback)((async n=>{var t;return null===(t=e.current)||void 0===t?void 0:t.runFetch(n)}),[e]),t=(0,o.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.getCurrentDataSource())||[]}),[e]),a=(0,o.useCallback)((n=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.setTableData(n))||[]}),[e]),l=(0,o.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.resetTableData())||[]}),[e]);return{tableRef:e,fetchTableData:n,getTableData:t,setTableData:a,resetTable:l}},xe=(e,n)=>{let{apiId:t,columns:l,ModalContent:i,onClick:c,fetchOnFirstRun:s=!1,params:u,checkForParams:h=!1,modalWidth:p="60%",printProps:m,reportName:b,disableAutoRefresh:g,handleDelete:x,handleAdd:C,handleEdit:v,canAdd:f,canDelete:w,canEdit:k,canPrint:j,usePrivilege:y=!0,...D}=e;const{visible:Z,handleClose:P,handleOpen:S}=(0,a.hn)(),[R,_]=(0,o.useState)([]),[F,A]=(0,o.useState)(0),{can_add:E,can_edit:I,can_delete:N,can_print:T,pagination:B,refresh_time_out:H}=(0,me.k)(),z=(0,o.useCallback)((e=>{const{data:n,total_records:t}=e||{};_(n),A(t)}),[]),{runFetch:K,loading:W,previousParams:O}=(0,a.ib)({apiId:t,fetchOnFirstRun:s,params:{...u,current_page:1,page_step:B},checkForParams:h,onResponse:z}),q=(0,o.useMemo)((()=>R),[R]);(0,o.useImperativeHandle)(n,(()=>({runFetch:K,setTableData:_,resetTableData:()=>{_([])},getCurrentDataSource:()=>q}))),(0,a.zK)((()=>{s&&!g&&K()}),H);const L=(0,o.useCallback)((e=>K({...O,current_page:e,page_step:B})),[B,O,K]);return(0,r.jsxs)(r.Fragment,{children:[Z&&x&&(0,r.jsx)(d,{visible:Z,onConfirm:x,onClose:P}),(0,r.jsx)(pe,{dataSource:R,columns:l,loading:W,onAdd:C,onEdit:v,onDelete:S,canAdd:f&&(!y||E),canDelete:w&&(!y||N),canEdit:k&&(!y||I),canPrint:j&&(!y||T),pagination:F,step:B,onChangeCurrentPage:L,...D})]})},Ce=(0,o.memo)((0,o.forwardRef)(xe))}}]);
//# sourceMappingURL=478.7307582c.chunk.js.map